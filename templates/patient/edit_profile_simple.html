{% extends 'patient/patientbase.html' %} {% load static %} {% block content %}

<div
  style="background: white; padding: 20px; margin: 20px; border-radius: 10px"
>
  <h1>Edit Profile</h1>

  {% if messages %} {% for message in messages %}
  <div
    style="background: {% if message.tags == 'error' %}#f8d7da{% else %}#d4edda{% endif %}; color: {% if message.tags == 'error' %}#721c24{% else %}#155724{% endif %}; padding: 10px; margin: 10px 0; border-radius: 5px;"
  >
    {{ message }}
  </div>
  {% endfor %} {% endif %}

  <form method="POST" enctype="multipart/form-data">
    {% csrf_token %}

    <h3>Personal Information</h3>
    <div style="margin-bottom: 15px">
      <label>First Name:</label><br />
      {{ user_form.first_name }} {% if user_form.first_name.errors %}
      <div style="color: red">{{ user_form.first_name.errors.0 }}</div>
      {% endif %}
    </div>

    <div style="margin-bottom: 15px">
      <label>Last Name:</label><br />
      {{ user_form.last_name }} {% if user_form.last_name.errors %}
      <div style="color: red">{{ user_form.last_name.errors.0 }}</div>
      {% endif %}
    </div>

    <div style="margin-bottom: 15px">
      <label>Email:</label><br />
      {{ user_form.email }} {% if user_form.email.errors %}
      <div style="color: red">{{ user_form.email.errors.0 }}</div>
      {% endif %}
    </div>

    <h3>Patient Information</h3>
    <div style="margin-bottom: 15px">
      <label>Blood Group:</label><br />
      {{ patient_form.bloodgroup }} {% if patient_form.bloodgroup.errors %}
      <div style="color: red">{{ patient_form.bloodgroup.errors.0 }}</div>
      {% endif %}
    </div>

    <div style="margin-bottom: 15px">
      <label>Age:</label><br />
      {{ patient_form.age }} {% if patient_form.age.errors %}
      <div style="color: red">{{ patient_form.age.errors.0 }}</div>
      {% endif %}
    </div>

    <div style="margin-bottom: 15px">
      <label>Mobile:</label><br />
      {{ patient_form.mobile }} {% if patient_form.mobile.errors %}
      <div style="color: red">{{ patient_form.mobile.errors.0 }}</div>
      {% endif %}
    </div>

    <div style="margin-bottom: 15px">
      <label>Address:</label><br />
      {{ patient_form.address }} {% if patient_form.address.errors %}
      <div style="color: red">{{ patient_form.address.errors.0 }}</div>
      {% endif %}
    </div>

    <div style="margin-bottom: 15px">
      <label>Disease/Condition:</label><br />
      {{ patient_form.disease }} {% if patient_form.disease.errors %}
      <div style="color: red">{{ patient_form.disease.errors.0 }}</div>
      {% endif %}
    </div>

    <div style="margin-bottom: 15px">
      <label>Doctor Name:</label><br />
      {{ patient_form.doctorname }} {% if patient_form.doctorname.errors %}
      <div style="color: red">{{ patient_form.doctorname.errors.0 }}</div>
      {% endif %}
    </div>

    <div style="margin-bottom: 15px">
      <label>Profile Picture:</label><br />
      {{ patient_form.profile_pic }} {% if patient_form.profile_pic.errors %}
      <div style="color: red">{{ patient_form.profile_pic.errors.0 }}</div>
      {% endif %}
    </div>

    <h3>Account Settings (Optional)</h3>
    <div style="margin-bottom: 15px">
      <label>Username:</label><br />
      {{ user_form.username }} {% if user_form.username.errors %}
      <div style="color: red">{{ user_form.username.errors.0 }}</div>
      {% endif %}
    </div>

    <div style="margin-bottom: 15px">
      <label>New Password:</label><br />
      {{ user_form.password1 }} {% if user_form.password1.errors %}
      <div style="color: red">{{ user_form.password1.errors.0 }}</div>
      {% endif %}
    </div>

    <div style="margin-bottom: 15px">
      <label>Confirm New Password:</label><br />
      {{ user_form.password2 }} {% if user_form.password2.errors %}
      <div style="color: red">{{ user_form.password2.errors.0 }}</div>
      {% endif %}
    </div>

    <div style="margin-top: 20px">
      <button
        type="submit"
        style="
          background: #667eea;
          color: white;
          padding: 10px 20px;
          border: none;
          border-radius: 5px;
          cursor: pointer;
        "
      >
        Save Changes
      </button>
      <a
        href="{% url 'patient-dashboard' %}"
        style="
          background: #6c757d;
          color: white;
          padding: 10px 20px;
          text-decoration: none;
          border-radius: 5px;
          margin-left: 10px;
        "
      >
        Cancel
      </a>
    </div>
  </form>
</div>

{% endblock %}
